"0","#Step 2: Perform PCA"
"0","pca_result <- prcomp(combined_features, center = TRUE, scale. = TRUE)"
"0",""
"0","#Step 2: Analyze PCA variance to choose components"
"0","summary(pca_result)  # Check proportion of variance explained"
"1","Importance of components:
"
"1","                      "
"1","    PC1"
"1","    PC2"
"1","     PC3"
"1","     PC4"
"1","     PC5"
"1","     PC6"
"1","    PC7"
"1","
Standard deviation    "
"1"," 1.6287"
"1"," 1.5800"
"1"," 1.32063"
"1"," 1.27933"
"1"," 1.23167"
"1"," 1.15212"
"1"," 1.1007"
"1","
Proportion of Variance"
"1"," 0.1263"
"1"," 0.1189"
"1"," 0.08305"
"1"," 0.07794"
"1"," 0.07224"
"1"," 0.06321"
"1"," 0.0577"
"1","
Cumulative Proportion "
"1"," 0.1263"
"1"," 0.2452"
"1"," 0.32824"
"1"," 0.40618"
"1"," 0.47842"
"1"," 0.54163"
"1"," 0.5993"
"1","
"
"1","                      "
"1","     PC8"
"1","     PC9"
"1","    PC10"
"1","    PC11"
"1","    PC12"
"1","    PC13"
"1","
Standard deviation    "
"1"," 1.03858"
"1"," 1.01515"
"1"," 1.00344"
"1"," 0.97777"
"1"," 0.92747"
"1"," 0.91381"
"1","
Proportion of Variance"
"1"," 0.05136"
"1"," 0.04907"
"1"," 0.04795"
"1"," 0.04553"
"1"," 0.04096"
"1"," 0.03976"
"1","
Cumulative Proportion "
"1"," 0.65069"
"1"," 0.69976"
"1"," 0.74771"
"1"," 0.79323"
"1"," 0.83420"
"1"," 0.87396"
"1","
"
"1","                      "
"1","    PC14"
"1","    PC15"
"1","    PC16"
"1","    PC17"
"1","   PC18"
"1","   PC19"
"1","
Standard deviation    "
"1"," 0.86938"
"1"," 0.83237"
"1"," 0.78591"
"1"," 0.56465"
"1"," 0.4099"
"1"," 0.2291"
"1","
Proportion of Variance"
"1"," 0.03599"
"1"," 0.03299"
"1"," 0.02941"
"1"," 0.01518"
"1"," 0.0080"
"1"," 0.0025"
"1","
Cumulative Proportion "
"1"," 0.90995"
"1"," 0.94294"
"1"," 0.97236"
"1"," 0.98754"
"1"," 0.9955"
"1"," 0.9980"
"1","
"
"1","                      "
"1","    PC20"
"1","      PC21"
"1","
Standard deviation    "
"1"," 0.20293"
"1"," 2.753e-15"
"1","
Proportion of Variance"
"1"," 0.00196"
"1"," 0.000e+00"
"1","
Cumulative Proportion "
"1"," 1.00000"
"1"," 1.000e+00"
"1","
"
"0","explained_variance <- cumsum(pca_result$sdev^2) / sum(pca_result$sdev^2)"
"0","plot(explained_variance, type = ""b"", "
"0","     xlab = ""Number of Principal Components"", "
"0","     ylab = ""Cumulative Explained Variance"", "
"0","     main = ""Explained Variance by Principal Components"")"
